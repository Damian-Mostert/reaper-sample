<script id="reaper-socket-script">
    (function() {
        const socket = new WebSocket(window.location.toString());
        socket.onopen = function () {
            window.reaperSocket = socket;
        };
        socket.onmessage = function (event) {
            console.log("Received message:", event.data);
        };
        socket.onerror = function (error) {
            console.error("WebSocket error:", error);
        };
        socket.onclose = function () {
            console.log("WebSocket connection closed.");
        };
        window.socket = socket;
        document.getElementById("reaper-socket-script")?.remove();
    })();
</script>
